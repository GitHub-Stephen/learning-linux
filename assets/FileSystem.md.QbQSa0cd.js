import{_ as h,c as n,m as s,I as t,w as l,U as i,D as p,o as e,a as k}from"./chunks/framework.p5ds4UDD.js";const x=JSON.parse('{"title":"目录结构","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"FileSystem.md","filePath":"FileSystem.md"}'),r={name:"FileSystem.md"},F=i(`<h1 id="目录结构" tabindex="-1">目录结构 <a class="header-anchor" href="#目录结构" aria-label="Permalink to &quot;目录结构&quot;">​</a></h1><p>Linux系统中，所有数据都是以文件的形式呈现，整个系统是以<code>目录树</code>架构来组成。 目录树以根目录为主， 以&quot;/&quot;来表示</p><h2 id="挂载" tabindex="-1">挂载 <a class="header-anchor" href="#挂载" aria-label="Permalink to &quot;挂载&quot;">​</a></h2><blockquote><p>文件与目录树的关系</p></blockquote><p><strong>挂载</strong>其实是利用一个目录作为进入点，将磁盘分区的数据放置在该目录下。 整个Linux系统最重要的是根目录，所以根目录一定需要挂载一个分区中，其他目录可以按照需求挂载到其他目录。</p><p><img src="https://cdn.jsdelivr.net/gh/GitHub-Stephen/blogPic/springboot/mount.png" alt="mount"></p><br><h1 id="文件与目录配置" tabindex="-1">文件与目录配置 <a class="header-anchor" href="#文件与目录配置" aria-label="Permalink to &quot;文件与目录配置&quot;">​</a></h1><h2 id="用户与用户组" tabindex="-1">用户与用户组 <a class="header-anchor" href="#用户与用户组" aria-label="Permalink to &quot;用户与用户组&quot;">​</a></h2><ul><li>文件拥有者</li></ul><p>由于 Linux 是多人多任务的系统，因此可能会有多人同时使用这台机来进行工作，考虑到隐私和工作习惯，文件拥有者这个角色就非常重要了。 设定好合适的权限后，目录、文件的相关操作权限，就仅仅只能由文件拥有者所持有。</p><ul><li>用户组</li></ul><p>顾名思义，其实就是一个用户的集合，用户组内包含多个用户，用户组之间的权限相互独立。如项目组 A 掌控 文件夹 A, 项目组 B 掌握文件夹 B， 组 A 内部成员可修改文件夹A以及子文件夹的所有内容， 项目组 B 则<strong>无权</strong>访问文件夹 A, 假设有一个大项目经理 C ,TA 可以同时拥有文件夹A、B的权限，这时，用户组就可以灵活配置，满足需求了。</p><ul><li>其他人</li></ul><p>其他人则是除<strong>文件拥有者</strong>、<strong>用户组中成员</strong>之外的一个用户（账户），Linux 文件的权限由 owner、group、other组成，其他人就是相当于这个 other 了，权限的授予部分我们后续会介绍。</p><h2 id="文件权限" tabindex="-1">文件权限 <a class="header-anchor" href="#文件权限" aria-label="Permalink to &quot;文件权限&quot;">​</a></h2><h3 id="文件属性" tabindex="-1">文件属性 <a class="header-anchor" href="#文件属性" aria-label="Permalink to &quot;文件属性&quot;">​</a></h3><p>列出文件列表，我们可以使用 <code>ls -al</code> 命令，之后我们可以查看到：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@nano /]# ls -al</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">total</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dr-xr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  18</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  236</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 31</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2023</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dr-xr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  18</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  236</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 31</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2023</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lrwxrwxrwx.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jul</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usr/bin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dr-xr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 31</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2023</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwxr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Nov</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:52</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwxr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  21</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3200</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 31</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2023</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p>这里我们可以分几个部分介绍，首先是整体：</p><p><img src="https://cdn.jsdelivr.net/gh/GitHub-Stephen/blogPic/springboot/fileDescription.png" alt="fileDescription"></p><p>再来介绍<strong>文档类型及权限</strong>部分：</p>`,22),d=s("img",{src:"https://cdn.jsdelivr.net/gh/GitHub-Stephen/blogPic/springboot/20231201083836.png",alt:"20231201083836"},null,-1),o=i(`<p>以上部分其实由10个字符组成：</p><ul><li><p>第一个字符是文件类型，其中包含：</p><ul><li><code>d</code> : 文件夹</li><li><code>-</code> : 文件</li><li><code>l</code> : 连接文件（后续介绍ln时会讲解）</li><li><code>b</code> : 可供存储的接口设备</li><li><code>c</code> : 串行设备，如键盘、鼠标</li></ul></li><li><p>后面部分由 <code>rwx</code> 组合出现，出现三次，分别代表：</p><ul><li>文件拥有者的读、写、执行权</li><li>文件所属用户组读、写、执行权限</li><li>非拥有者、所属组的其他人的权限</li></ul></li></ul><p><code>rwx</code> 的位置并不会改变，有权限则显示字母，没权限则显示 &quot;-&quot;</p><ul><li><p>第二栏代表连接数，表明目前由多少个文件连接到文件系统中的同一个 <code>inode</code>上</p></li><li><p>第三栏代表文件拥有者</p></li><li><p>第四栏代表文件所属组</p></li><li><p>第五栏代表文件大小</p></li><li><p>第六栏代表最近修改时间</p></li><li><p>最后一栏则是 目录、文件名称</p></li></ul><h3 id="文件权限的重要性" tabindex="-1">文件权限的重要性 <a class="header-anchor" href="#文件权限的重要性" aria-label="Permalink to &quot;文件权限的重要性&quot;">​</a></h3><p>Linux文件中有比较多属性，其实主要是为了数据安全上的考虑</p><h4 id="系统保护" tabindex="-1">系统保护 <a class="header-anchor" href="#系统保护" aria-label="Permalink to &quot;系统保护&quot;">​</a></h4><p>由于Linux的所有内容均以文件的形式存在，如一些系统配置 /etc/shadow/ 这个记录着所有账号的数据， 如果没有控制好文件权限，那么将会出现窃取信息等安全问题</p><h4 id="团队开发与共享数据" tabindex="-1">团队开发与共享数据 <a class="header-anchor" href="#团队开发与共享数据" aria-label="Permalink to &quot;团队开发与共享数据&quot;">​</a></h4><p>我们知道文件、目录可以以用户组的方式来设置权限，在团队协同过程中，就可以利用该功能，来更好地设置团队内的资料共享，也可以灵活的将不同团队的权限独立开</p><h4 id="如果不正确设置权限" tabindex="-1">如果不正确设置权限 <a class="header-anchor" href="#如果不正确设置权限" aria-label="Permalink to &quot;如果不正确设置权限&quot;">​</a></h4><p>我们现在知道<code>rwx</code> 的含义，如果没有设置正确，那么一般账号可能就拥有很大权限，资料可能会被删除、修改。或者本来应该有权限的用户被“拒之门外” <br></p><h3 id="修改文件属性和权限" tabindex="-1">修改文件属性和权限 <a class="header-anchor" href="#修改文件属性和权限" aria-label="Permalink to &quot;修改文件属性和权限&quot;">​</a></h3><p>既然文件和权限那么重要，了解清楚其含义与设置方式，就至关重要了，我们先来了解下最常见的修改属性的命令：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chgrp：修改文件所属组</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown：修改文件所属者</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod：修改文件属性</span></span></code></pre></div><h4 id="修改用户组" tabindex="-1">修改用户组 <a class="header-anchor" href="#修改用户组" aria-label="Permalink to &quot;修改用户组&quot;">​</a></h4><p>使用 <code>chgrp</code>、<code>chown</code> 都比较简单，我们只要稍微查看一下命令手册即可，一般我们采用 <code>chgrp -h</code> 可查看到该命令的使用方式。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home]# chgrp --h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">用法：chgrp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [选项]... 用户组 文件...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">　或：chgrp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [选项]... --reference=参考文件 文件...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Change</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> each</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FILE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GROUP.</span></span></code></pre></div><p>如我们需要修改一个文件的所属组，只要如下操作：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改前</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    vboxsf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改用户组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] chgrp root testPrint.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改后</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span></code></pre></div><p>注意： 修改组时赋予的目标组，需要存在于 /etc/group 中。</p><h4 id="修改文件所属者" tabindex="-1">修改文件所属者 <a class="header-anchor" href="#修改文件所属者" aria-label="Permalink to &quot;修改文件所属者&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改前</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改文件所属者</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] chown stephen testPrint.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改后</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span></code></pre></div><p>同理，修改的目标用户，需要存在与 /etc/passwd 中。</p><p><code>chmod</code> 还可以直接顺便修改用户组，如：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] chown stephen:stephen testPrint.jar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] ll</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">总用量</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwxr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> software</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span></code></pre></div><p>这样就可以把文件 testPrint.jar 修改成 stephen用户和组所属了。</p><h4 id="修改权限" tabindex="-1">修改权限 <a class="header-anchor" href="#修改权限" aria-label="Permalink to &quot;修改权限&quot;">​</a></h4><p>修改权限我们可以使用 <code>chmod</code> 命令来操作，可分别使用数字类型或者符号来修改。</p><ul><li>数字类型修改权限</li></ul><p>从前面 文件权限 章节，我们可以知道 Linux 的基本权限有9个，为所属者(owner)、用户组(group)、其他人(other)，分别对应各自的 r (读)、w (写)、x (执行)。</p><p>权限信息如果为 [-rwxrwxrwx]，实际可以分解成：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">r:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><p>每种身份（所属者、用户组、其他人）都分别由自己的权限，权限计算需要进行<strong>累加</strong>，如权限[-rwxrwx---]，则代表：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">owner</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">other</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span></code></pre></div><p>那么我们设置权限时，就可以按照这种规则设置，如：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] chmod 770 testPrint.jar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] ll</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">总用量</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwxr-xr-x.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> software</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span></code></pre></div><ul><li>符号类型修改权限</li></ul><p>权限设置的目标主要分为 user(用户)、group(用户组)、other(其他人), 以简写可归类为 u、g、o，其中可使用 a 代表所有身份 ，权限仍然使用 r、w、x，这样我们可以通过组合符号（字母）来进行权限设置。</p><p><img src="https://cdn.jsdelivr.net/gh/GitHub-Stephen/blogPic/springboot/20240104061446.png" alt="20240104061446"></p><p>我们可以实践一下，如果要把一个文件授权为<code>--wxrw---</code>，实际就是:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">u</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)所属者拥有：wx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)用户组拥有：rx</span></span></code></pre></div><p>按照符号类型来进行授权的话：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 授权前</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxrwx---.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改权限：chmod</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@localhost home] chmod u=wx,g=rw testPrint.jar</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 授权后</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--wxrw----.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stephen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1350</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2018</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> testPrint.jar</span></span></code></pre></div><p><code>符号类型</code>的授权方式，可以无需关注原文件权限的情况下，直接设置想要的权限，而且符号形式相对较好记忆，相对<code>数字类型</code>设置来说较为方便。</p><h3 id="文件与目录的权限意义" tabindex="-1">文件与目录的权限意义 <a class="header-anchor" href="#文件与目录的权限意义" aria-label="Permalink to &quot;文件与目录的权限意义&quot;">​</a></h3><p>前面也有介绍权限设置对于文件的重要性，那么这里我们其实需要深入了解下，权限对于文件、目录分别代表什么具体的含义。我们知道现在权限总体分为 <code>rwx</code></p><p><strong>对于文件</strong></p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>r(read) : 读取文件内容，如读取文本文件内的文字等；</span></span>
<span class="line"><span>w(write) : 编辑、新增或修改文件内容（不含删除该文件）；</span></span>
<span class="line"><span>x(eXecute) ：该文件可被系统执行。</span></span></code></pre></div><p>对于文件的权限，主要是针对文件内容进行控制，并不具备删除文件的权限。</p><p><strong>对于目录</strong></p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>r(read) : 读取目录下的文件列表内容，常常我们以 ls 命令来列出文件；</span></span>
<span class="line"><span>w(write) : </span></span>
<span class="line"><span>    - 新增新的文件与目录</span></span>
<span class="line"><span>    - 删除已存在的文件与目录（无论被删除的文件、目录的权限是什么）</span></span>
<span class="line"><span>    - 对文件、目录进行改名</span></span>
<span class="line"><span>    - 移动目录内文件的位置；</span></span>
<span class="line"><span>x(eXecute) ：用户可将该目录作为工作目录，也就是用户登录后的默认目录。</span></span></code></pre></div><p>对于目录的权限，主要是针对目录内的文件、目录进行控制。</p><p>目录的 <code>x（eXecute)</code> 权限比较特殊，它并不是控制目录可否被执行，而是控制着用户是否能进入该目录，如下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwxr-xr--.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       6</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 06</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:46</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dirPem</span></span></code></pre></div><p>假设有一个 Stephen 账号，它并不在 root 用户组，则无法进入到 dirPem 这个目录。</p><h2 id="目录配置" tabindex="-1">目录配置 <a class="header-anchor" href="#目录配置" aria-label="Permalink to &quot;目录配置&quot;">​</a></h2><p>我们可能听说过 CentoOs、Ubuntu、Debian 等 Linux 的发行版，不管哪个版本，它们的配置文件、执行文件、每个目录的内容，其实都很接近，其实这是依据一套标准来设计的。</p><h3 id="linux目录依据-fhs" tabindex="-1">Linux目录依据---FHS <a class="header-anchor" href="#linux目录依据-fhs" aria-label="Permalink to &quot;Linux目录依据---FHS&quot;">​</a></h3><blockquote><p>Filesystem Hierarchy Standard</p></blockquote><p>FHS 开始的目的是希望用户知道已安装的软件是存放在哪个目录中，同时希望个人开发者、操作系统制作者等能遵循 FHS。这样一来，就可以在原来 Linux 的基础上，开发出更多独特风格的内容。</p><p>FHS 一直在不断优化，对于<code>文件系统使用的频繁与是否允许用户修改</code>，将目录分成四种形态：</p><table><thead><tr><th></th><th>可分享</th><th>不可分享</th></tr></thead><tbody><tr><td>不可变</td><td>/usr（软件存放处）</td><td>/etc（配置文件）</td></tr><tr><td></td><td>/opt（第三方辅助软件）</td><td>/boot（启动与内核文件）</td></tr><tr><td>可变动</td><td>/var/mail (用户邮箱)</td><td>/var/run (程序相关)</td></tr><tr><td></td><td>/var/spool/news (新闻组)</td><td>/var/lock (程序相关)</td></tr></tbody></table><p>上面是一些代表性目录， 它们分别代表：</p><ul><li>可分享： 可以分享给其他系统挂载使用的目录，包括执行文件与用户的邮件等数据，是能否分享给网络其他的主机进行共享的；</li><li>不可分享： 自己机器上的运行的设备文件或者与程序有关的 socket 文件等，由于跟滋生系统有关，当然就无法共享出去了；</li><li>不变：有些数据不会经常变动，跟随着发行版一起往下推进。如函数库、文件说明、主机服务配置等；</li><li>可变动：经常修改的数据，例如日志文件、用户可自行接收的新闻组等。</li></ul><p>在<code>FHS</code>下，实际是定义了三层目录下应该放置什么数据：</p><ul><li>/ (root,根目录)： 与系统启动有关;</li><li>/usr (unix software resource)：与软件安装/执行有关;</li><li>/var (variable)：与系统运行过程有关;</li></ul><h4 id="根目录的意义与内容" tabindex="-1">根目录的意义与内容 <a class="header-anchor" href="#根目录的意义与内容" aria-label="Permalink to &quot;根目录的意义与内容&quot;">​</a></h4><p>  根目录是整个系统最重要的目录，因为其他目录实际上就是根目录所衍生出来的，同时根目录有与系统的启动、还原、系统修复等操作有关。由于系统启动时，需要包含特定的启动软件、内核文件等，若系统出现错误时，根目录则必须包含这类修复程序。 如果根目录设置在一个很大的分区，我们可能就会往里头塞很多数据，这样将会徒增系统出错的风险。</p><p>  FHS建议：<strong>根目录所在的分区越小越好，且应用程序所安装的软件最好不要和根目录放在同一个分区内。这样不但性能较佳，根目录所在的文件系统，也不容易发生问题.</strong></p><p>关于根目录的介绍内容比较多，有需要深入了解的话，可以访问 <a href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch03.html" target="_blank" rel="noreferrer">The Root Filesystem</a> 查阅。</p>`,71);function g(C,c,y,B,u,E){const a=p("center");return e(),n("div",null,[F,s("p",null,[d,s("em",null,[t(a,null,{default:l(()=>[k("截图自：鸟哥私房菜")]),_:1})])]),o])}const m=h(r,[["render",g]]);export{x as __pageData,m as default};
